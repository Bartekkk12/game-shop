@model Game

@{
    ViewData["Title"] = "Game Details";
}

<h2>Game Details</h2>

<div>
    <h4>Game</h4>
    <hr />
    <dl class="row">
        <dt class="col-sm-2">Title</dt>
        <dd class="col-sm-10">@Model.Title</dd>

        <dt class="col-sm-2">Description</dt>
        <dd class="col-sm-10">@Model.Description</dd>

        <dt class="col-sm-2">Price</dt>
        <dd class="col-sm-10">@Model.Price.ToString("N2") zł</dd>

        <dt class="col-sm-2">Release Date</dt>
        <dd class="col-sm-10">@Model.ReleaseDate.ToString("yyyy-MM-dd")</dd>

        <dt class="col-sm-2">Stock</dt>
        <dd class="col-sm-10">@Model.Stock</dd>

        <dt class="col-sm-2">Category</dt>
        <dd class="col-sm-10">@Model.Category?.Name</dd>

        <dt class="col-sm-2">Publisher</dt>
        <dd class="col-sm-10">@Model.Publisher?.Name</dd>

        <dt class="col-sm-2">Platform</dt>
        <dd class="col-sm-10">@Model.GamePlatform</dd>
    </dl>
</div>

<div>
    @if (Model.Stock > 0)
    {
        <form asp-controller="Cart" asp-action="AddToCart" asp-route-gameId="@Model.Id" method="post" style="display: inline-block;" class="me-2">
            <div class="input-group">
                <span class="input-group-text">Ilość:</span>
                <input type="number" name="quantity" class="form-control" value="1" min="1" max="@Model.Stock" style="max-width: 80px;" />
                <button type="submit" class="btn btn-warning">🛒 Do koszyka</button>
            </div>
        </form>
        <form asp-controller="Orders" asp-action="BuyNow" asp-route-gameId="@Model.Id" method="post" style="display: inline-block;" class="me-2">
            <input type="hidden" name="quantity" value="1" />
            <button type="submit" class="btn btn-success">Kup teraz</button>
        </form>
    }
    else
    {
        <button class="btn btn-secondary" disabled>Brak w magazynie</button>
    }
    <a asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-primary">Edit</a>
    <a asp-action="Index" class="btn btn-secondary">Back to List</a>
</div>